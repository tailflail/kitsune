<div class="flex flex-col gap-3 mt-6 min-w-[100%] lg:w-[1200px] relative">
  <% @post.comments.each do |comment| %>
    <div class="flex rounded-lg border border-neutral-700 p-4">
      <div class="flex gap-3">
        <a href="<%= user_path(comment.user) %>" class="shrink-0">
          <% if comment.user.avatar.attached? %>
            <%= image_tag comment.user.avatar, class: "w-[75px] h-[75px] min-w-[50px] rounded-lg mx-auto block" %>
          <% else %>
            <%= image_tag comment.user.gravatar_url, class: "w-[75px] h-[75px] min-w-[50px] rounded-lg mx-auto block" %>
          <% end %>
        </a>

        <div class="flex flex-col">
          <div class="font-bold">
            <a href="<%= user_path(comment.user) %>"><%= comment.user.username %></a>
          </div>
          <div class="break-all">
            <div><%= comment.body %></div>
          </div>

          <div class="flex gap-2">
            <% if current_user == comment.user %>
              <div class="mt-4">
                <%= link_to "Edit", edit_post_comment_path(@post.id, comment.id),
                            class: "inline-block px-3 py-2 leading-none rounded text-neutral-500 hover:text-neutral-100 border border-neutral-500 hover:bg-neutral-500" %>
              </div>
              <div class="mt-4">
                <%= button_to "Delete", post_comment_path(@post.id, comment.id), method: :delete, data: { turbo_confirm: "Are you sure you want to delete this comment?"},
                              class: "inline-block px-3 py-2 leading-none rounded text-red-800 hover:text-neutral-100 border border-red-900 hover:bg-red-900" %>
              </div>
            <% end %>
          </div>
        </div>
      </div>
    </div>
  <% end %>
</div>